#include <Wire.h>
#include <MPU6050.h>

MPU6050 mpu;

int16_t ax, ay, az;
int16_t gx, gy, gz;
#define accident 2
void setup() {
  Serial.begin(9600);
  Wire.begin();
  mpu.initialize();
}

void loop() {
  mpu.getMotion6(&ax, &ay, &az, &gx, &gy, &gz);

  // Calculate the total acceleration vector
  float totalAccel = sqrt(ax*ax + ay*ay + az*az);

  // Check if the total acceleration is below a threshold
  if (totalAccel < 5) {
    Serial.println("Fall detected!");
     Serial.println(totalAccel);
digitalWrite(accident,HIGH);
  }

  delay(10);
}

